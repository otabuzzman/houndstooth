%! Create hound's tooth check (Hahnentrittmuster)
currentpagedevice
/PageSize get
{} forall
/py exch def
/px exch def

/dec {
1 sub
} def
/inc {
1 add
} def
/r01 {
rand
2 31 exp
dec
div
} def

realtime
srand
% num tiles x
NX cvi
% edge length
dup
px
exch
div
% scale factor
dup 4 div
dup scale
% num tiles y
py
exch
div
cvi
inc
/ny exch def
/nx exch def
% random tile index
ny r01 mul cvi
nx mul
nx r01 mul cvi
add
/rt exch def
% draw hound's tooth tile
/htc {
2 1
3 2
2 2
2 3
1 2
0 2
2 4
3 4
4 5
4 4
5 4
4 3
4 2
2 0
newpath
moveto
1 1 13 {
pop
lineto
} for
closepath
} def
/grmin .62 def
/grmax .69 def
/map [
1 1 nx ny mul {pop
grmin
grmax
grmin
sub
r01 mul
add
} for
] def
0 1 ny dec {/y exch def
0 1 nx dec {/x exch def
gsave
x 4 mul
y 4 mul
translate 
htc
nx
y mul
x add
% make one random tile special
dup rt eq
{pop r01 r01 r01 setrgbcolor}
{map exch get setgray}
ifelse
fill
grestore
} for
} for
